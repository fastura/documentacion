"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[12926],{28453:(e,a,n)=>{n.d(a,{R:()=>c,x:()=>o});var r=n(296540);const i={},s=r.createContext(i);function c(e){const a=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:a},e.children)}},662703:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"devs/instalacion/Actualizar-Migrar","title":"\ud83d\udee0\ufe0f Gu\xeda para Actualizar o Migrar el Sistema","description":"1. Acceso al Servidor","source":"@site/versioned_docs/version-Pro7/devs/instalacion/05-Actualizar-Migrar.md","sourceDirName":"devs/instalacion","slug":"/devs/instalacion/Actualizar-Migrar","permalink":"/Pro7/devs/instalacion/Actualizar-Migrar","draft":false,"unlisted":false,"editUrl":"https://github.com/fastura/documentacion/tree/main/versioned_docs/version-Pro7/devs/instalacion/05-Actualizar-Migrar.md","tags":[],"version":"Pro7","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Instalar - Actualizar el SSL","permalink":"/Pro7/devs/instalacion/Instalar-SSL"},"next":{"title":"Instalaci\xf3n de Mozo en cPanel","permalink":"/Pro7/devs/instalacion/Instalacion-Mozo-cPanel"}}');var i=n(474848),s=n(28453);const c={},o="\ud83d\udee0\ufe0f Gu\xeda para Actualizar o Migrar el Sistema",l={},t=[{value:"1. Acceso al Servidor",id:"1-acceso-al-servidor",level:2},{value:"2. Preparar el Entorno",id:"2-preparar-el-entorno",level:2},{value:"3. Descargar Actualizaciones",id:"3-descargar-actualizaciones",level:2},{value:"4. Aplicar Migraciones y Optimizar",id:"4-aplicar-migraciones-y-optimizar",level:2},{value:"5. Pasos para Migrar de Sistema Pro6 a Pro7",id:"5-pasos-para-migrar-de-sistema-pro6-a-pro7",level:2},{value:"6. Notas y Buenas Pr\xe1cticas",id:"6-notas-y-buenas-pr\xe1cticas",level:2}];function d(e){const a={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"\ufe0f-gu\xeda-para-actualizar-o-migrar-el-sistema",children:"\ud83d\udee0\ufe0f Gu\xeda para Actualizar o Migrar el Sistema"})}),"\n",(0,i.jsx)(a.h2,{id:"1-acceso-al-servidor",children:"1. Acceso al Servidor"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Con\xe9ctate a tu servidor por SSH:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"ssh [usuario]@[ip]\n"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Verifica los contenedores activos:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"docker ps\n"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Ingresa al contenedor FPM:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"docker exec -it [nombre_contenedor_fpm] /bin/bash\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h2,{id:"2-preparar-el-entorno",children:"2. Preparar el Entorno"}),"\n",(0,i.jsx)(a.admonition,{title:"Recomendaci\xf3n",type:"tip",children:(0,i.jsx)(a.p,{children:"Antes de actualizar, revisa si tienes cambios locales para evitar conflictos."})}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Verifica el estado de tu repositorio:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git status\n"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Si tienes cambios locales, gu\xe1rdalos temporalmente:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git stash\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h2,{id:"3-descargar-actualizaciones",children:"3. Descargar Actualizaciones"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Descarga los \xfaltimos cambios del repositorio:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git pull origin main\n"})}),"\n",(0,i.jsx)(a.admonition,{type:"info",children:(0,i.jsx)(a.p,{children:"Si se te solicita, ingresa tus credenciales de GitLab (usuario y token)."})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsxs)(a.p,{children:["Si guardaste cambios con ",(0,i.jsx)(a.code,{children:"git stash"}),", recup\xe9ralos:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git stash apply\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h2,{id:"4-aplicar-migraciones-y-optimizar",children:"4. Aplicar Migraciones y Optimizar"}),"\n",(0,i.jsx)(a.p,{children:"Ejecuta los siguientes comandos para aplicar migraciones y limpiar cach\xe9s:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"php artisan migrate\r\nphp artisan tenancy:migrate\r\nphp artisan config:cache\r\nphp artisan cache:clear\r\nphp artisan optimize:clear\n"})}),"\n",(0,i.jsx)(a.p,{children:"O bien, puedes ejecutarlos en una sola l\xednea:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"php artisan migrate ; php artisan tenancy:migrate ; php artisan config:cache ; php artisan cache:clear ; php artisan optimize:clear\n"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h2,{id:"5-pasos-para-migrar-de-sistema-pro6-a-pro7",children:"5. Pasos para Migrar de Sistema Pro6 a Pro7"}),"\n",(0,i.jsx)(a.p,{children:"A continuaci\xf3n, se detallan los pasos recomendados para migrar tu sistema desde Pro6 a Pro7:"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Respalda tu informaci\xf3n:"})," Antes de iniciar la migraci\xf3n, realiza una copia de seguridad completa de tu base de datos y archivos del sistema Pro6."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Prepara el entorno:"})," Aseg\xfarate de que tu servidor cumpla con los requisitos m\xednimos para Pro7 (versi\xf3n de PHP, extensiones, etc.)."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Verifica la migraci\xf3n:"})," Revisa que todos los datos y funcionalidades est\xe9n correctamente migrados y funcionando en Pro7."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Actualiza configuraciones:"})," Ajusta las configuraciones necesarias en Pro7 seg\xfan tus necesidades y preferencias."]}),"\n"]}),"\n",(0,i.jsx)(a.admonition,{title:"\xa1Importante!",type:"danger",children:(0,i.jsxs)(a.p,{children:["Debes tener una ",(0,i.jsx)(a.strong,{children:"suscripci\xf3n activa"})," para poder realizar la migraci\xf3n de Pro6 a Pro7. Si tu suscripci\xf3n no est\xe1 vigente, contacta al \xe1rea comercial para renovarla antes de continuar."]})}),"\n",(0,i.jsx)(a.p,{children:"Si necesitas migrar el repositorio remoto o realizar una migraci\xf3n mayor:"}),"\n",(0,i.jsxs)(a.ol,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Cambia la URL del repositorio remoto:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git remote set-url origin https://gitlab.buho.la/facturaloperu/facturador/pro7.git\n"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Verifica la URL:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git remote -v\n"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Repite los pasos de verificaci\xf3n y actualizaci\xf3n:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"git status\r\ngit add .\r\ngit stash\r\ngit pull origin main\r\ngit reset --hard origin/main\r\ngit stash apply\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.admonition,{title:"Importante",type:"danger",children:(0,i.jsxs)(a.p,{children:["El comando ",(0,i.jsx)(a.code,{children:"git reset --hard origin/main"})," eliminar\xe1 todos los cambios locales no guardados. Aseg\xfarate de respaldar tu trabajo antes de ejecutarlo."]})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h2,{id:"6-notas-y-buenas-pr\xe1cticas",children:"6. Notas y Buenas Pr\xe1cticas"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["El uso de ",(0,i.jsx)(a.code,{children:"git stash"})," es solo necesario si tienes cambios locales pendientes."]}),"\n",(0,i.jsx)(a.li,{children:"Siempre revisa los mensajes de error y advertencias durante el proceso."}),"\n"]})]})}function p(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);